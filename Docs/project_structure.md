# Project Structure – rules-creating-agents

## Root Directory Layout

```text
rules-generator/
├── github/workflows
├    ├── backend-preview.yml
├    ├── backend-test.yml
├    ├── commitlint.yml
├    ├── frontend-preview.yml
├    ├── frontend-test.yml
├── apps/
│   ├── backend/
│   │   ├── app/
│   │   │   ├── agents/
│   │   │   ├── api/
│   │   │   ├── db/
│   │   │   ├── graph/
│   │   │   ├── prompts/
│   │   │   ├── schemas/
│   │   │   └── services/
│   │   ├── Dockerfile
│   │   ├── pyproject.toml
│   │   └── requirements.txt
│   └── frontend/
│       ├── components.json
│       ├── Dockerfile
│       ├── eslint.config.mjs
│       ├── next.config.ts
│       ├── package.json
│       ├── postcss.config.mjs
│       ├── public/
│       │   ├── file.svg
│       │   ├── globe.svg
│       │   ├── next.svg
│       │   ├── vercel.svg
│       │   └── window.svg
│       ├── README.md
│       ├── src/
│       │   ├── app/
│       │   │   ├── favicon.ico
│       │   │   ├── globals.css
│       │   │   ├── layout.tsx
│       │   │   └── page.tsx
│       │   └── lib/
│       │       └── utils.ts
│       └── tsconfig.json
├── CODING_STANDARDS.md
├── docker-compose.yml
├── Docs/
│   ├── Implementation.md
│   ├── project_structure.md
│   └── UI_UX_doc.md
├── infra/
│   ├── env/
│   └── scripts/
├── package.json
├── packages/
│   ├── config/
│   └── ui/
├── pnpm-lock.yaml
├── pnpm-workspace.yaml
├── PRD.md
├── README.md
└── supabase/
    └── migrations/
        └── 1_initial_schema.sql
```

## Detailed Structure

- **apps/frontend/** – Front-end codebase. Uses Next.js App Router. Split by:
  - `components/` – Pure UI components (stateless, styled via Tailwind).
  - `features/` – Feature-oriented slices combining UI, hooks, state, and API calls.
  - `hooks/` – Reusable React hooks (authentication, fetcher, viewport, etc.).
  - `lib/` – Client-side utilities such as the configured Supabase client, API helpers, and analytics.
  - `styles/` – Global CSS (generated by Tailwind), theme tokens, fonts.
  - `public/` – Static assets served directly by Next.js.

- **apps/backend/** – Python backend service.\*
  - `app/api/` – FastAPI routers exposing REST & SSE endpoints.
  - `app/agents/` – Implementation of Supervisor, FolderStructure, Visualization, Rules & Configs, Review agents.
  - `app/core/` – LangGraph graphs, prompt templates, and utility functions.
  - `app/db/` – Database access layer using PostgREST or `asyncpg` for Supabase Postgres.
  - `app/schemas/` – Pydantic models for request/response validation.
  - `app/services/` – Business logic helpers, file upload utilities.
  - `tests/` – PyTest unit tests.
  - `Dockerfile` – Production image for deployment.

- **packages/ui/** – Shared shadcn/ui component library compiled to ESM; published locally for apps.
- **packages/config/** – Base ESLint, Prettier, and Stylelint configs consumed via `@rules-generator/eslint-config`.
- **infra/** – Infrastructure utilities.
  - `env/` contains `.env.example` and per-environment templates.
  - `scripts/` includes DB migration scripts, data seeding, and helper scripts executed in CI/CD.

- **docs/** – Docusaurus site built from `/Docs` and additional markdown files for public consumption.
- **.github/workflows/** – GitHub Actions automation: lint -> test -> build -> deploy.
- **docker-compose.yml** – Local orchestration of Postgres, Supabase emulator, and backend.

## Configuration File Locations

- `apps/frontend/tailwind.config.ts` – Tailwind custom theme tokens.
- `packages/config/eslint-next.js` – ESLint rules targeting Next.js.
- `apps/backend/.env` – Backend environment variables (database URL, OpenAI key).
- `supabase/migrations/` – SQL migrations version-controlled via Supabase CLI.

## Build & Deployment Flow

1. **Frontend**
   - Build command: `pnpm --filter frontend build` (Next.js static generation + edge functions).
   - Deploy to Vercel via automatic GitHub integration.
2. **Backend**
   - Docker image built from `apps/backend/Dockerfile`.
   - Pushed to Fly.io or Render on merge to `main` using GitHub Actions.
3. **Database Migrations**
   - Supabase migrations executed in CI prior to backend deployment.

## Environment-Specific Configurations

- **Local Development** – `docker-compose` spins up Postgres and Supabase emulator; `.env.local` files loaded by apps.
- **Staging & Production** – Secrets stored in GitHub Actions and Vercel/Fly.io dashboard; config values injected at build time.
